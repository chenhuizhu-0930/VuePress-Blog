---
categories: 
  - å»ºç«™
tags: 
  - VuePress
title: VuePresså»ºç«™
date: 2025-05-19 23:46:52
permalink: /pages/1bf643/
author: 
  name: keijyu
  link: https://GitHub.com/chenhuizhu-0930
---

åœ¨åˆ©ç”¨VuePressçš„Vdoingä¸»é¢˜å»ºç«™çš„è¿‡ç¨‹ä¸­çš„è¸©å‘å’Œå­¦ä¹ è®°å½•ï¼Œå‘å‡ºæ¥ä»…ä¾›å‚è€ƒã€‚

### 1. å…¨æ–‡æœç´¢&ä¸Šæ¬¡æ›´æ–°

#### 1.1 å¯ç”¨å…¨æ–‡æœç´¢

é¦–å…ˆä¸‹è½½[å…¨æ–‡æœç´¢æ’ä»¶](https://GitHub.com/leo-buneev/VuePress-plugin-fulltext-search)

```
npm i VuePress-plugin-fulltext-search -D
# or
yarn add VuePress-plugin-fulltext-search -D
```

ç„¶ååœ¨æ’ä»¶é…ç½®ä¸­å¯ç”¨è¯¥æ’ä»¶ï¼ˆä»¥Vdoingä¸»é¢˜ä¸ºä¾‹ï¼‰

```
plugins: <UserPlugins>['fulltext-search']
```

#### 1.2 æ˜¾ç¤ºä¸Šæ¬¡æ›´æ–°æ—¶é—´

==è¿˜æ²¡ç ”ç©¶æ˜ç™½ï¼Œå…ˆå ä¸ªå‘ã€‚ã€‚==

### 2. å›¾åºŠä¸cdnåŠ é€Ÿ

æœ¬åšå®¢çš„å›¾åºŠé‡‡ç”¨[PicGo](https://GitHub.com/Molunerfinn/PicGo)+[Picx](https://picx.xpoet.cn/#/upload)+GitHub

### 3. éƒ¨ç½²

#### 3.1 éƒ¨ç½²åˆ°GitHub

1. `deploy.sh`ä¸­çš„push_addrçš„GitHubåœ°å€ç”¨åŒå¼•å·åŒ…è£¹

2. åœ¨bashä¸­è¿è¡Œ`npm run deploy`åæŠ¥é”™

```
deploy.sh: line 14: $'\224\250build:win': command not found
```

è±†åŒ…äº†ä¸‹è¯´\224\250æ˜¯ CRLF æ¢è¡Œç¬¦çš„ä¸€éƒ¨åˆ†ï¼ˆ`\r` æˆ– `\n`ï¼‰è¢«é”™è¯¯è§£æåçš„ç»“æœã€‚äºæ˜¯å°è¯•æŠŠ`deploy.sh`çš„è¡Œå°¾åºåˆ—ä»CULFæ”¹ä¸ºLFã€‚ä¹‹åå†è¿è¡Œå°±æ¨é€æˆåŠŸäº†ã€‚

#### 3.2 éƒ¨ç½²è‡³Vercel |ğŸš€æµ·å¤–è®¿é—®

##### 3.2.1 Vercelæ˜¯ä»€ä¹ˆ

[Vercel](https://vercel.com/) å’Œ GitHub Pages éƒ½æ˜¯éƒ¨ç½²é™æ€ç½‘ç«™çš„å¹³å°ï¼Œä½†æ˜¯GitHubä¸æä¾›å…¨çƒCDNåŠ é€Ÿï¼Œ Vercel CDNä¼šé»˜è®¤éƒ¨ç½²åˆ°å…¨çƒè¾¹ç¼˜èŠ‚ç‚¹ä»¥åŠ å¿«è®¿é—®é€Ÿåº¦ã€‚

- åœ¨Vercelä¸­è®¾ç½®äº†GitHubå’ŒVercelçš„é›†æˆå…³ç³»ï¼ˆè¿æ¥åˆ°GitHubé¡¹ç›®å’Œç›‘å¬åˆ†æ”¯ï¼‰ä¹‹åï¼Œæºç æ¨é€åˆ° GitHub å¯è‡ªåŠ¨è§¦å‘ Vercel éƒ¨ç½²ã€‚

- æ„å»ºå®Œæˆä¹‹åï¼ŒVercel ä¼šæŠŠä½ çš„é™æ€æ–‡ä»¶æ‰˜ç®¡åœ¨ä¸»æºæœåŠ¡å™¨ä¸Šï¼ˆå³ Vercel Originï¼‰ï¼Œä½†åªæœ‰å½“ç”¨æˆ·è®¿é—®é¡µé¢æ—¶ï¼Œè¯¥é¡µé¢æ‰ä¼šè¢«ç¼“å­˜åˆ°ç”¨æˆ·æœ€è¿‘çš„ CDN è¾¹ç¼˜èŠ‚ç‚¹ï¼ˆæ‡’åŠ è½½æœºåˆ¶ï¼‰ã€‚å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ğŸ‘‡ï¼š

>**éƒ¨ç½²ï¼š**
>
>ğŸ“¦ éƒ¨ç½²é¡¹ç›®å¦‚VuePress â†’ ğŸ“ ç”Ÿæˆé™æ€æ–‡ä»¶ â†’ ğŸ—ƒï¸ å­˜æ”¾åœ¨ Vercel Origin
>
>**ç¬¬ä¸€æ¬¡ç”¨æˆ·è®¿é—®æŸé¡µé¢ï¼š**
>ğŸŒ ç”¨æˆ·è¯·æ±‚é¡µé¢ â†’ CDN æ£€æŸ¥æœ¬åœ°ç¼“å­˜ âŒæœªå‘½ä¸­ â†’ å‘ Vercel Origin è¯·æ±‚æ–‡ä»¶ â†’ âœ”ï¸ç¼“å­˜è¯¥é¡µé¢åˆ°å½“å‰ CDN èŠ‚ç‚¹ â†’ ğŸš€ è¿”å›é¡µé¢
>
>**åç»­å…¶ä»–ç”¨æˆ·è®¿é—®è¯¥é¡µé¢ï¼š**
>ğŸŒ CDN å‘½ä¸­ç¼“å­˜ â†’ ç›´æ¥ä» CDN è¾¹ç¼˜è¿”å›å†…å®¹ âœ… éå¸¸å¿«

##### 3.2.2 éƒ¨ç½²è¸©çš„å‘

**ï¼ˆ1ï¼‰æŠ¥é”™å†…å®¹**

```
sh: line 1: VuePress: command not found
Error: Command "VuePress build src" exited with 127
```

**ï¼ˆ2ï¼‰è§£å†³**

ChatGPTå‘Šè¯‰æˆ‘è¿™ä¸ªé”™è¯¯è¯´æ˜ï¼šåœ¨ Vercel çš„æ„å»ºç¯å¢ƒä¸­æ— æ³•æ‰¾åˆ° `VuePress` å‘½ä»¤ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰å®‰è£… VuePressã€‚

- é¦–å…ˆæ£€æŸ¥VuePressæ˜¯å¦åœ¨é¡¹ç›®`package.json` çš„Dependenciesæˆ–devDependenciesä¸­ã€‚

- å…¶æ¬¡ï¼Œç¡®ä¿ `package.json` ä¸­çš„ `scripts` åŒ…å«æ­£ç¡®çš„æ„å»ºå‘½ä»¤ã€‚

å› Vercelæ— æ³•è¯†åˆ« `package.json` ä¸‹é¢çš„build scripts

```
"build": "export NODE_OPTIONS=--openssl-legacy-provider && node --max_old_space_size=4096 ./node_modules/vuepress/cli.js build docs",
```

äºæ˜¯æ›¿æ¢æˆäº†ğŸ‘‡

```\
"build": "vuepress build docs"
```

- æœ€åï¼Œåœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­é…ç½®ï¼š
  - Build Command: `npm run build`
  - Output Directory: `.VuePress/dist`

Framework Preseté€‰æ‹©`Other`è€Œä¸æ˜¯VuePressã€‚Vercel çš„ `VuePress Preset` æ”¯æŒçš„æ˜¯ VuePress v2ï¼ˆNextï¼‰ï¼Œä½†æˆ‘çš„package.jsonä¸­ä½¿ç”¨çš„ VuePressæ˜¯v1.9.9çš„ï¼Œæ‰€ä»¥è¿™é‡Œè¦æ”¹æˆOtherã€‚

æŒ‰ç…§ä¸Šè¿°ä¿®æ”¹åé‡æ–°éƒ¨ç½²Vercelå°±æˆåŠŸäº†ã€‚ï¼ˆå“¦ChatGPTçœŸå¥½ç”¨~~~ï¼‰

##### 3.2.3 è·¯ç”±åˆ°Vercel

###### ï¼ˆ1ï¼‰æ·»åŠ åŸŸå

- åœ¨Vercel - Project Setting - Domainsä¸­æ·»åŠ åŸŸåï¼Œå®Œæˆåä¼šæ˜¾ç¤ºä¸¤æ¡DNSè®°å½•ï¼Œéœ€è¦æŠŠè¿™ä¸¤æ¡è§£æè®°å½•æ·»åŠ åˆ°åŸŸåæ§åˆ¶å°

![vercelçš„DNSç•Œé¢](https://raw.GitHubusercontent.com/chenhuizhu-0930/picx-images-hosting/master/202505231101874.png)

###### ï¼ˆ2ï¼‰DNSé…ç½®

- æ‰“å¼€åŸŸåæ§åˆ¶å°åŠ å…¥è®°å½•

![DNSè®¾ç½®](https://raw.GitHubusercontent.com/chenhuizhu-0930/picx-images-hosting/master/202505231104006.png)

###### ï¼ˆ3ï¼‰éªŒè¯åŸŸåæŒ‡å‘

```bash
nslookup www.example.com
```

ç¡®è®¤è¿”å›çš„CNAMEæ˜¯cname.vercel-dns.comåˆ™æˆåŠŸè·¯ç”±

![æˆåŠŸè·¯ç”±ç»ˆç«¯ç•Œé¢](https://raw.GitHubusercontent.com/chenhuizhu-0930/picx-images-hosting/master/202505231110068.png)

###### ï¼ˆ4ï¼‰æ€»ç»“

æœ€åçš„é…ç½®ç»“æœæ˜¯åœ¨Vercelä¸ŠæŠŠ `keijyu.top` è‡ªåŠ¨é‡å®šå‘åˆ° `www.keijyu.top`

æŠŠ `www.keijyu.top` ä½œä¸ºä¸»åŸŸåï¼Œé…ç½®äº† CNAME â†’ `cname.vercel-dns.com`

#### 3.3 éƒ¨ç½²è‡³XXX |ğŸš€å¤§é™†è®¿é—®

**3.3.1 åˆæ‹äº‘å­˜å‚¨**

å‚è€ƒ[è¿™ç¯‡](https://tang.su/2020/09/deploy-GitHub-pages-to-upyun-vercel/)

**3.3.2 Webç¼“å­˜ç½‘**

Webç¼“å­˜ç½‘ä¸‹çš„JS CDNæœåŠ¡(å›½å†…é˜¿é‡Œäº‘CDNåŠ é€Ÿ)
[https://www.webcache.cn](https://www.webcache.cn/)
[https://code.webcache.cn](https://code.webcache.cn/)
[https://cdnjs.webstatic.cn](https://cdnjs.webstatic.cn/)
[https://lib.webstatic.cn](https://lib.webstatic.cn/)

è¿˜æ²¡ç ”ç©¶ï¼Œä¹‹åæœ‰ç©ºæä¸€æã€‚ã€‚

#### 3.4 å¤šçº¿éƒ¨ç½²

å¯ä»¥é‡‡ç”¨DNSè¿›è¡Œåˆ†æµï¼Œå›½å†…çº¿è·¯é»˜è®¤è§£æè‡³åˆæ‹äº‘å­˜å‚¨CNAMEåœ°å€ï¼Œå›½å¤–çº¿è·¯è§£æè‡³Vercelæä¾›çš„åœ°å€ï¼Œä¹‹åç ”ç©¶ä¸€ä¸‹ã€‚ã€‚

### 4. è¯„è®ºç³»ç»Ÿ

æœªæ¥è€ƒè™‘åŠ å…¥ï¼Œå…ˆå ä¸ªå‘ã€‚

### 5. å…³äºå†™ä½œä¸æ¨é€

åšæ–‡ä½¿ç”¨Typoraï¼Œåœ¨ç›¸åº”æ–‡ä»¶å¤¹ä¸‹æ–°å¢mdæ–‡ä»¶å¼€å§‹å†™ä½œå³å¯ã€‚å¦‚æœéœ€è¦æ”¾å…¥ç‰¹å®šåˆ†ç±»å’ŒåŠ å…¥æ ‡ç­¾ï¼Œ---ç”Ÿæˆymlè¡¨å¤´ï¼Œæ·»åŠ categorieså’Œtagså±æ€§ã€‚å…¶ä½™å±æ€§åœ¨buildçš„æ—¶å€™Vdoingä¼šè‡ªåŠ¨ç”Ÿæˆã€‚categorieså¦‚æœä¸è®¾ç½®æˆ‘è®¾ç½®çš„é»˜è®¤å€¼æ˜¯æœªåˆ†ç±»ã€‚

![åšæ–‡å†™ä½œ](https://raw.GitHubusercontent.com/chenhuizhu-0930/picx-images-hosting/master/202505221051851.png)

æœ¬åœ°buildä¸å¯åŠ¨

```
npm run build
npm run dev:win //windowsç”µè„‘ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œæˆ‘ç†è§£è¿™ä¸ªå‘½ä»¤ä¼šå…ˆbuildå†å¯åŠ¨æœåŠ¡å™¨
```

GitHubæ¨é€

```
npm run deploy
```

### 6. å‚è€ƒé“¾æ¥

[vercelæ˜¯ä»€ä¹ˆç¥ä»™ç½‘ç«™ï¼Ÿ](https://zhuanlan.zhihu.com/p/347990778)
